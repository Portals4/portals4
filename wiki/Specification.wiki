#summary Draft copy of the Portals 4 specification, with changelog

== Latest Draft Specification ==
  * [http://portals4.googlecode.com/files/portals40-20120614.pdf Portals Document (pdf)]
  * [http://portals4.googlecode.com/files/portals40-201200614-diff.pdf Portals Document with changes (pdf)]

== June 14, 2012 Changelog ==
  * Clarify behavior of flow control when local operations are causing the event
  * Datatypes can't span iovec entries for atomic operations.
  * Ptl{LE,ME}Unlink of a list entry on the overflow list with unexpected headers should return IN_USE if unexpected headers associated with list entry.
  * Fix minor documentation issue; EQs are now associated with PTs, not MEs.
  * Fixed some formatting issues with the document and updated the cover sheet and title page to match the current look and feel guidelines.

== May 21, 2012 Changelog ==
  * Add list match to the ack and reply
  * Fix a number of spelling errors
  * Update acknowledgment type section
  * Clean up the PtlLEUnlink/PtlMEUnlink text and add implementation note saying why we have such an insane description.  Less insane descriptions welcomed.
  * Make PtlHandleIsEqual return zero/non-zero instead of PTL_OK/PTL_FAIL to make it nicer to use in conditional expressions
  * Update distribution list
  * Remove people names from index
  * Clarify that, like ACK events, REPLY events must be generated in all error conditions
  * Change name from message passing interface to network programming interface

== May 5, 2012 Changelog ==
  * Remove the duplicate event descriptions from the event location table, as they're in the constants descriptions directly above it.
  * Convert the paragraph describing failure type constants into a proper constants table
  * Remove an implementation note on events and make normative test (since it really was anyways...)
  * Changed the description of PTL_{LE,ME}_EVENT_FLOWCTRL_DISABLE flag to specify that a PTL_EVENT_PT_DISABLED event shoudl be generated when a flow control situation not associated with a single LE/ME is hit, not PTL_{LE,ME}_EVENT_FLOWCTRL_DISABLE, which isn't even an event type.


== April 25, 2012 Changelog ==
  * Rename PTL_NI_FLOW_CTRL to PTL_NI_PT_DISABLED and clarify that it should be returned any time an operation targets a PT that has been disabled.  Also, clarify that PTL_NI_DROPPED should not be returned when the PT has been disabled.
  * Fixed missing closing parenthesis.
  * ptl_list field in events is not defined if in error (since the message may not have made it to the remote node)

== April 09, 2012 Changelog ==
  * Clarify ordering text for portal table entries
  * Clarify length of time for which handles must remain valid for Unlink
  * Don't make constants be enums
  * Add the ptl_list an operation was delivered to as one of the event fields
  * Update event structure table to say some fields are undefined in error conditions
  * Added advice to users about recovering from flow control
  * Define match_bits to be 0 in events when using LEs.
  * Update text around ME/LEUnlink race conditions
  * Fix a typo regading node vs. process in ptl_process_t description
  * clarify "properly" (by no longer using the word "properly")
  * Clean up use of list entry instead of match list entry in event types description
  * Clarify mlength, particularly for Search events

== November 29, 2011 Changelog ==
  * Clean up use of list entry instead of match list entry in event types description
  * Clarify mlength, particularly for Search events
  * Add PtlGetPhysId() call to allow the user to determine the physical address of a logically addressed network interface
  * Add feature bit PTL_COHERENT_ATOMICS to allow an implementation to specify that atomics are coherent with processor atomics and/or other network interface atomics
  * Clarify that unless explicitly allowed, NULL as a pointer to a structure/out argument is not allowed.
  * Allow a network interface to be reinitialized
  * First take at a guide to implementers
  * remove out of date FAQ
  * Clarify meaning of PTLACKREQ vs. PTLCTACKREQ vs. PTLOCACKREQ
  * Fix numerous typos

== October 20, 2011 Changelog ==
  * Clarify that MD_VOLATILE is only applicable to send buffers
  * Clarify VOLATILE applies to all sending operations in the constants table

== October 12, 2011 Changelog ==
  * Remove IN_USE check from MDRelease.  It's not clear there's a semantic need and it is burdensome for some implementations
  * Remove const from user_ptr type declaration
  * Add text saying that unexpected messages associated with an ME in the overflow list are deleted when the ME is explicitly unlinked
  * Clarify that event in Ptl{EQ,CT}{Get,Wait,Poll} must point to a valid structure (ie, not be NULL)
  * Fix description of ptllist argument to LEAppend and MEAppend to reflect search is no longer done through the append calls
  * Clean up language for LESearch and MESearch.  Event generation text now matches language of LEAppend/MEAppend, in that events can be turned off through le/me flags, and counting events could be turned on.
  * Fix wording of PtlCTWait and PtlCTPoll in presence of failures in the specified counting event(s).